<div class="student-dashboard">
  <div class="dashboard-header">
    <div class="header-content">
      <div class="welcome-section">
        <h1>Welcome back, {{ user.name }}!</h1>
        <p>Continue your learning journey</p>
      </div>

      <!-- Recent Logins in top right -->
      <div class="recent-logins-compact" *ngIf="recentLoginActivities.length > 0">
        <h3>Activity Timeline</h3>
        <div class="login-list">
          <div *ngFor="let session of recentLoginActivities.slice(0, 3)" class="login-item">
            <span class="login-time">{{ formatTime(session.loginTime) }}</span>
            <span class="login-date">{{ session.loginTime | date:'M/d/yy' }}</span>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Stats Cards -->
  <div class="stats-grid">
    <div class="stat-card">
      <div class="stat-icon">ðŸ“š</div>
      <div class="stat-content">
        <h3>{{ enrollments.length }}</h3>
        <p>Enrolled Courses</p>
      </div>
    </div>

    <div class="stat-card">
      <div class="stat-icon">âœ…</div>
      <div class="stat-content">
        <h3>{{ completedCourses }}</h3>
        <p>Completed Courses</p>
      </div>
    </div>

    <div class="stat-card">
      <div class="stat-icon">ðŸ“ˆ</div>
      <div class="stat-content">
        <h3>{{ inProgressCourses }}</h3>
        <p>In Progress</p>
      </div>
    </div>

    <div class="stat-card">
      <div class="stat-icon">ðŸŽ¯</div>
      <div class="stat-content">
        <h3>{{ overallProgress }}%</h3>
        <p>Overall Progress</p>
      </div>
    </div>
  </div>

  <!-- My Courses Section -->
  <div class="my-courses-section" *ngIf="enrolledCourses.length > 0">
    <h2>My Courses</h2>
    <div class="courses-grid">
      <div *ngFor="let course of enrolledCourses" class="course-card">
        <div class="course-thumbnail">
          <img [src]="course.thumbnail" [alt]="course.title" (error)="onImageError($event)">
        </div>

        <div class="course-content">
          <h3>{{ course.title }}</h3>
          <p class="course-description">{{ course.description }}</p>

          <div class="course-meta">
            <span class="instructor">By {{ course.instructor }}</span>
            <span class="level">{{ course.level }}</span>
          </div>

          <div class="progress-section">
            <mat-progress-bar mode="determinate" [value]="getEnrollmentProgress(course.id)" class="course-progress-bar">
            </mat-progress-bar>
            <span class="progress-text">{{ getEnrollmentProgress(course.id) }}% Complete</span>
          </div>

          <div class="course-actions">
            <button [class]="getEnrollmentProgress(course.id) === 100 ? 'restart-btn' : 'continue-btn'"
              (click)="continueCourse(course.id)" [disabled]="loading">
              {{ getCourseButtonText(course.id) }}
            </button>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- No Courses Message -->
  <div class="no-courses-message" *ngIf="enrolledCourses.length === 0">
    <div class="empty-state">
      <h3>No Courses Yet</h3>
      <p>You haven't enrolled in any courses yet. Browse our course catalog to get started!</p>
      <button class="browse-btn" routerLink="/courses">Browse Courses</button>
    </div>
  </div>

</div>